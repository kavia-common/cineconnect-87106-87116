{"is_source_file": true, "format": "JavaScript", "description": "This file defines Express.js routes for managing videos, including creating, retrieving, listing with filters, and updating reaction counters. It interacts with MongoDB models for videos and reactions, and includes validation and serialization logic.", "external_files": ["../models/Video.js", "../models/VideoReaction.js", "../utils/serializers.js"], "external_methods": ["mongoose.isValidObjectId", "mongoose.startSession", "Video.create", "Video.findById", "Video.countDocuments", "Video.updateOne", "VideoReaction.findOne", "VideoReaction.updateOne"], "published": ["router"], "classes": [], "methods": [{"name": "isValidUrl(url)", "description": "Validates the shape of a URL string.", "scope": "", "scopeKind": ""}, {"name": "buildFilters(q)", "description": "Builds MongoDB query filters based on provided query parameters.", "scope": "", "scopeKind": ""}], "calls": ["express.Router", "serializeVideo", "mongoose.isValidObjectId", "Video.create", "Video.findById", "Video.countDocuments", "Video.find", "Video.updateOne", "VideoReaction.findOne", "VideoReaction.updateOne", "mongoose.startSession"], "search-terms": ["videos routes", "create video endpoint", "get video by ID", "list videos with filters", "reaction update"], "state": 2, "file_id": 59, "knowledge_revision": 129, "git_revision": "", "ctags": [{"_type": "tag", "name": "buildFilters", "path": "/home/kavia/workspace/code-generation/cineconnect-87106-87116/cinemadrops_backend/src/videos/routes.js", "pattern": "/^function buildFilters(q) {$/", "language": "JavaScript", "kind": "function", "signature": "(q)"}, {"_type": "tag", "name": "isValidUrl", "path": "/home/kavia/workspace/code-generation/cineconnect-87106-87116/cinemadrops_backend/src/videos/routes.js", "pattern": "/^function isValidUrl(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/cineconnect-87106-87116/cinemadrops_backend/src/videos/routes.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}], "hash": "900fd63314f331f5e1b84c8be121e87b", "format-version": 4, "code-base-name": "cinemadrops_frontend", "filename": "cinemadrops_backend/src/videos/routes.js", "revision_history": [{"129": ""}]}