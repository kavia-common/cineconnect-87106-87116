{"is_source_file": true, "format": "JavaScript", "description": "This file provides service functions for interacting with AWS-based video resources, including listing videos, fetching a video by key, and uploading videos with optional competition metadata. It handles URL normalization from ARNs or full URLs, and manages HTTP requests to a backend API.", "external_files": ["fetch API"], "external_methods": ["fetch"], "published": ["listVideos", "getVideoByKey", "uploadVideo"], "classes": [], "methods": [{"name": "normalizeBase(input)", "description": "Converts AWS ARN or URL into a normalized HTTPS URL base.", "scope": "", "scopeKind": ""}, {"name": "listVideos()", "description": "Fetches list of all videos from the AWS API Gateway.", "scope": "", "scopeKind": ""}, {"name": "getVideoByKey(videoKey)", "description": "Fetches a single video identified by its key.", "scope": "", "scopeKind": ""}, {"name": "uploadVideo({ file, title, description, competitionId, competitionName })", "description": "Uploads a new video, with optional metadata and competition info.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "res.ok", "res.headers.get", "res.json", "res.text", "encodeURIComponent"], "search-terms": ["AwsVideos", "normalizeBase", "listVideos", "getVideoByKey", "uploadVideo", "API_BASE", "AWS ARN", "API Gateway", "video upload", "competition metadata"], "state": 2, "file_id": 49, "knowledge_revision": 128, "git_revision": "c28edfe5c9442350d274679496fe2d1d5f1d1958", "revision_history": [{"106": ""}, {"128": "c28edfe5c9442350d274679496fe2d1d5f1d1958"}], "ctags": [{"_type": "tag", "name": "AWS_API_BASE", "path": "/home/kavia/workspace/code-generation/cineconnect-87106-87116/cinemadrops_frontend/src/services/AwsVideos.js", "pattern": "/^const AWS_API_BASE = process.env.REACT_APP_AWS_API_BASE || ''; \\/\\/ PUBLIC: must be set by user /", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getVideoByKey", "path": "/home/kavia/workspace/code-generation/cineconnect-87106-87116/cinemadrops_frontend/src/services/AwsVideos.js", "pattern": "/^export async function getVideoByKey(videoKey) {$/", "language": "JavaScript", "kind": "function", "signature": "(videoKey)"}, {"_type": "tag", "name": "listVideos", "path": "/home/kavia/workspace/code-generation/cineconnect-87106-87116/cinemadrops_frontend/src/services/AwsVideos.js", "pattern": "/^export async function listVideos() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeBase", "path": "/home/kavia/workspace/code-generation/cineconnect-87106-87116/cinemadrops_frontend/src/services/AwsVideos.js", "pattern": "/^function normalizeBase(input) {$/", "language": "JavaScript", "kind": "function", "signature": "(input)"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/cineconnect-87106-87116/cinemadrops_frontend/src/services/AwsVideos.js", "pattern": "/^    const payload = { title, description };$/", "language": "JavaScript", "kind": "field", "scope": "uploadVideo.payload", "scopeKind": "class"}, {"_type": "tag", "name": "uploadVideo", "path": "/home/kavia/workspace/code-generation/cineconnect-87106-87116/cinemadrops_frontend/src/services/AwsVideos.js", "pattern": "/^export async function uploadVideo({ file, title, description, competitionId, competitionName }) /", "language": "JavaScript", "kind": "function", "signature": "({ file, title, description, competitionId, competitionName })"}], "hash": "8ccb25149e582f7ad5d7b67bc9dfa388", "format-version": 4, "code-base-name": "cinemadrops_frontend", "filename": "cinemadrops_frontend/src/services/AwsVideos.js", "fields": [{"name": "const payload = { title, description };", "scope": "uploadVideo.payload", "scopeKind": "class", "description": "unavailable"}]}